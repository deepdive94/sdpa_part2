{
 "cells": [
  {
   "cell_type": "code",
   "execution_count": 1,
   "metadata": {},
   "outputs": [],
   "source": [
    "class customer:\n",
    "    def check_avail(type_list):\n",
    "        print(\"check_avail_function\")\n",
    "\n",
    "        final_booking(car_type_ip,rental_list,hatchback,sedan,SUV)\n",
    "    \n",
    "        return index_ctype,car_name_ip,car_type_ip, days\n",
    "    \n",
    "    def final_booking(car_type_ip,rental_list,hatchback,sedan,SUV):\n",
    "        print(car_type_ip,\"\\n\",rental_list,\"\\n\",hatchback,\"\\n\",sedan,\"\\n\",SUV)\n",
    "                \n",
    "        if \"hatchback\" in car_type_ip:\n",
    "            if car_name_ip in hatchback:\n",
    "                hatchback.remove(car_name_ip)\n",
    "                rental_list.append(car_name_ip)\n",
    "        elif \"sedan\" in car_type_ip:\n",
    "            if car_name_ip in sedan:\n",
    "                sedan.remove(car_name_ip)\n",
    "                rental_list.append(car_name_ip)                \n",
    "        elif \"SUV\" in car_type_ip:\n",
    "            if car_name_ip in SUV:\n",
    "                SUV.remove(car_name_ip)\n",
    "                rental_list.append(car_name_ip)                \n",
    "        return hatchback,sedan,SUV,rental_list\n",
    "        \n",
    "    def bill_calc(days,price):\n",
    "        total = int(days)*int(price)\n",
    "        return total     \n",
    "    \n",
    "class rental:\n",
    "    def check_rent_list(rental_list):\n",
    "        print(\"Rental Cars\",rental_list)\n",
    "        ret_car_nm = input(\"Choose the car you want to return\")\n",
    "        rental_list.remove(ret_car_nm)\n",
    "        return rental_list\n",
    "    \n",
    "    def bill(days,price):\n",
    "        total_bill = customer.bill_calc(days,price)\n",
    "        return total_bill\n",
    "                "
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "First Time Data {'data': {'avail_stock_list': ['H1', 'H2', 'H3', 'H4', 'S1', 'S2', 'S3', 'SU1', 'SU2', 'SU3'], 'rental_car': [], 'customers_list': [], 'less_than_week': [], 'rental_list': [], 'total_list': 225, 'car_type': {'type_order': ['hatchback', 'sedan', 'SUV'], 'hatchback': ['H1', 'H2', 'H3', 'H4'], 'sedan': ['S1', 'S2', 'S3'], 'SUV': ['SU1', 'SU2', 'SU3']}}}\n",
      "Welcome To the car World\n",
      "Do you want to rent a car OR Return a rented car\n",
      "Enter rent or returnrent\n",
      "Select Car Type From: ['hatchback', 'sedan', 'SUV']\n",
      "Enter Car Typesedan\n",
      "Enter Car Name  {'type_order': ['hatchback', 'sedan', 'SUV'], 'hatchback': ['H1', 'H2', 'H3', 'H4'], 'sedan': ['S1', 'S2', 'S3'], 'SUV': ['SU1', 'SU2', 'SU3']}\n",
      "Enter Car NameSU1\n",
      "For how many days do you want to rent?6\n",
      "50\n",
      "sedan \n",
      " [] \n",
      " ['H1', 'H2', 'H3', 'H4'] \n",
      " ['S1', 'S2', 'S3'] \n",
      " ['SU1', 'SU2', 'SU3']\n",
      "Estimated_Bill: £ 300\n",
      "rental_list []\n",
      "Available_list:  ['H1', 'H2', 'H3', 'H4'] ['S1', 'S2', 'S3'] ['SU1', 'SU2', 'SU3']\n",
      "{'data': {'avail_stock_list': ['H1', 'H2', 'H3', 'H4', 'S1', 'S2', 'S3', 'SU1', 'SU2', 'SU3'], 'rental_car': [], 'customers_list': [], 'less_than_week': [], 'rental_list': [], 'total_list': [], 'car_type': {'type_order': ['hatchback', 'sedan', 'SUV'], 'hatchback': ['H1', 'H2', 'H3', 'H4'], 'sedan': ['S1', 'S2', 'S3'], 'SUV': ['SU1', 'SU2', 'SU3']}}}\n",
      "First Time Data {'data': {'avail_stock_list': ['H1', 'H2', 'H3', 'H4', 'S1', 'S2', 'S3', 'SU1', 'SU2', 'SU3'], 'rental_car': [], 'customers_list': [], 'less_than_week': [], 'rental_list': [], 'total_list': [], 'car_type': {'type_order': ['hatchback', 'sedan', 'SUV'], 'hatchback': ['H1', 'H2', 'H3', 'H4'], 'sedan': ['S1', 'S2', 'S3'], 'SUV': ['SU1', 'SU2', 'SU3']}}}\n",
      "Welcome To the car World\n",
      "Do you want to rent a car OR Return a rented car\n",
      "Enter rent or returnrent\n",
      "Select Car Type From: ['hatchback', 'sedan', 'SUV']\n",
      "Enter Car Typesedan\n",
      "Enter Car Name  {'type_order': ['hatchback', 'sedan', 'SUV'], 'hatchback': ['H1', 'H2', 'H3', 'H4'], 'sedan': ['S1', 'S2', 'S3'], 'SUV': ['SU1', 'SU2', 'SU3']}\n",
      "Enter Car NameS1\n",
      "For how many days do you want to rent?6\n",
      "50\n",
      "sedan \n",
      " [] \n",
      " ['H1', 'H2', 'H3', 'H4'] \n",
      " ['S1', 'S2', 'S3'] \n",
      " ['SU1', 'SU2', 'SU3']\n",
      "Estimated_Bill: £ 300\n",
      "rental_list ['S1']\n",
      "Available_list:  ['H1', 'H2', 'H3', 'H4'] ['S2', 'S3'] ['SU1', 'SU2', 'SU3']\n",
      "{'data': {'avail_stock_list': ['H1', 'H2', 'H3', 'H4', 'S1', 'S2', 'S3', 'SU1', 'SU2', 'SU3'], 'rental_car': [], 'customers_list': [], 'less_than_week': [], 'rental_list': ['S1'], 'total_list': [], 'car_type': {'type_order': ['hatchback', 'sedan', 'SUV'], 'hatchback': ['H1', 'H2', 'H3', 'H4'], 'sedan': ['S1', 'S2', 'S3'], 'SUV': ['SU1', 'SU2', 'SU3']}}}\n",
      "First Time Data {'data': {'avail_stock_list': ['H1', 'H2', 'H3', 'H4', 'S1', 'S2', 'S3', 'SU1', 'SU2', 'SU3'], 'rental_car': [], 'customers_list': [], 'less_than_week': [], 'rental_list': ['S1'], 'total_list': [], 'car_type': {'type_order': ['hatchback', 'sedan', 'SUV'], 'hatchback': ['H1', 'H2', 'H3', 'H4'], 'sedan': ['S1', 'S2', 'S3'], 'SUV': ['SU1', 'SU2', 'SU3']}}}\n",
      "Welcome To the car World\n",
      "Do you want to rent a car OR Return a rented car\n",
      "Enter rent or returnreturn\n",
      "Rental Cars ['S1']\n",
      "Choose the car you want to returnS1\n",
      "Total Bill To pay: £ 300\n",
      "First Time Data {'data': {'avail_stock_list': ['H1', 'H2', 'H3', 'H4', 'S1', 'S2', 'S3', 'SU1', 'SU2', 'SU3'], 'rental_car': [], 'customers_list': [], 'less_than_week': [], 'rental_list': [], 'total_list': 300, 'car_type': {'type_order': ['hatchback', 'sedan', 'SUV'], 'hatchback': ['H1', 'H2', 'H3', 'H4'], 'sedan': ['S1', 'S2', 'S3'], 'SUV': ['SU1', 'SU2', 'SU3']}}}\n",
      "Welcome To the car World\n",
      "Do you want to rent a car OR Return a rented car\n"
     ]
    }
   ],
   "source": [
    "import json\n",
    "# avail_stock_list = [\"H1\",\"H2\",\"H3\",\"H4\",\"S1\",\"S2\",\"S3\",\"SU1\",\"SU2\",\"SU3\"]\n",
    "# rental_list = []\n",
    "type_list = [\"hatchback\",\"sedan\",\"SUV\"]\n",
    "less_than_week = [\"30\",\"50\",\"100\"]\n",
    "more_than_week = [\"25\",\"40\",\"90\"]\n",
    "\n",
    "\n",
    "data_dict = { \"data\":\n",
    "                 {\n",
    "                    \"avail_stock_list\": [\"H1\",\"H2\",\"H3\",\"H4\",\"S1\",\"S2\",\"S3\",\"SU1\",\"SU2\",\"SU3\"],\n",
    "                    \"rental_car\": [],\n",
    "                    \"customers_list\": [],\n",
    "                    \"less_than_week\":[],\n",
    "                    \"rental_list\":[],\n",
    "                    \"total_list\":[],\n",
    "                    \"car_type\":\n",
    "                               { \n",
    "                                \"type_order\":[\"hatchback\",\"sedan\",\"SUV\"],\n",
    "                                \"hatchback\":[\"H1\",\"H2\",\"H3\",\"H4\"],\n",
    "                                \"sedan\":[\"S1\",\"S2\",\"S3\"],\n",
    "                                \"SUV\" : [\"SU1\",\"SU2\",\"SU3\"]\n",
    "                               }\n",
    "                }\n",
    "            }\n",
    "\n",
    "# with open(\"cars.json\",\"w\") as f:\n",
    "#     json.dump(data_dict,f)\n",
    "while(1):\n",
    "    with open(\"cars.json\",\"r\") as f:\n",
    "        data = json.load(f)\n",
    "    print(\"First Time Data\",data)\n",
    "\n",
    "    \n",
    "\n",
    "    print(\"Welcome To the car World\")\n",
    "    print(\"Do you want to rent a car OR Return a rented car\")\n",
    "    cust_ip = input(\"Enter rent or return\")\n",
    "    \n",
    "    \n",
    "\n",
    "    # print(\"Car Types: \",car_type)\n",
    "\n",
    "    if \"rent\" in cust_ip:\n",
    "        car_type_list = data[\"data\"][\"car_type\"]\n",
    "        rental_list = data[\"data\"][\"rental_car\"]\n",
    "        print(\"Select Car Type From:\", data_dict[\"data\"][\"car_type\"][\"type_order\"])\n",
    "        car_type_ip = input(\"Enter Car Type\")  \n",
    "\n",
    "        print(\"Enter Car Name \",car_type_list)\n",
    "        car_name_ip = input(\"Enter Car Name\")   \n",
    "\n",
    "        days = int(input(\"For how many days do you want to rent?\")) \n",
    "\n",
    "        hatchback = car_type_list[\"hatchback\"]\n",
    "        sedan = car_type_list[\"sedan\"]\n",
    "        SUV = car_type_list[\"SUV\"]\n",
    "\n",
    "        index_ctype = type_list.index(car_type_ip)\n",
    "        \n",
    "        if days < 7:\n",
    "            price = less_than_week[index_ctype]\n",
    "            print(price)\n",
    "        if days > 7:\n",
    "            price = more_than_week[index_ctype]\n",
    "            \n",
    "        total = customer.bill_calc(days,price)\n",
    "        \n",
    "        customer.final_booking(car_type_ip,rental_list,hatchback,sedan,SUV)\n",
    "        print(\"Estimated_Bill: £\",total)\n",
    "        print(\"rental_list\",rental_list)\n",
    "        print(\"Available_list: \",hatchback, sedan,SUV)\n",
    "        data_dict[\"data\"][\"rental_list\"] = total\n",
    "        data_dict[\"data\"][\"rental_list\"] = rental_list\n",
    "        print(data_dict)\n",
    "        with open(\"cars.json\",\"w\") as f:\n",
    "            json.dump(data_dict,f)\n",
    "    if \"return\" in cust_ip:\n",
    "#         rental_list\n",
    "        rental_list = rental.check_rent_list(rental_list)\n",
    "        total_bill = rental.bill(days,price)\n",
    "        print(\"Total Bill To pay: £\",total_bill)\n",
    "        data_dict[\"data\"][\"total_list\"] = total_bill\n",
    "        with open(\"cars.json\",\"w\") as f:\n",
    "            json.dump(data_dict,f)\n",
    "\n",
    "# print(data)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": []
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": []
  }
 ],
 "metadata": {
  "kernelspec": {
   "display_name": "Python 3",
   "language": "python",
   "name": "python3"
  },
  "language_info": {
   "codemirror_mode": {
    "name": "ipython",
    "version": 3
   },
   "file_extension": ".py",
   "mimetype": "text/x-python",
   "name": "python",
   "nbconvert_exporter": "python",
   "pygments_lexer": "ipython3",
   "version": "3.8.5"
  }
 },
 "nbformat": 4,
 "nbformat_minor": 4
}
